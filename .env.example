# PLGames Board - Environment Configuration Template
# Copy this file to .env and customize for your setup
# The install.sh script generates this automatically

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# CORE SETTINGS
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Environment: production or development
NODE_ENV=production

# Your domain name or localhost
DOMAIN=localhost

# Full URL for API and frontend access
# localhost mode:     http://localhost
# production domain:  https://example.com
BASE_URL=http://localhost

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# NETWORK & PORTS
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# External ports (what clients connect to)
HTTP_PORT=80
HTTPS_PORT=443

# Internal ports (Docker networking)
BACKEND_PORT=3010
AFFINE_SERVER_PORT=3010

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# DATABASE (PostgreSQL + pgvector)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Database credentials (auto-generated by installer with strong password)
DB_USER=plgames
DB_PASSWORD=generate-strong-password-here-at-least-32-chars
DB_NAME=plgames

# Database URL (auto-constructed from above)
DATABASE_URL=postgres://plgames:your-password@postgres:5432/plgames

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# CACHE (Redis)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

REDIS_SERVER_HOST=redis
REDIS_SERVER_PORT=6379

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# AI FEATURES (Optional - disabled by default)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Enable/disable AI copilot features
AFFINE_COPILOT_ENABLED=false

# If enabled, configure OpenRouter (optional AI provider)
# Get API key from: https://openrouter.ai
# Available models: meta-llama/llama-3.1-70b-instruct, etc.
# AFFINE_COPILOT_OPENROUTER_API_KEY=sk-or-v1-your-key-here
# AFFINE_COPILOT_OPENROUTER_MODEL=meta-llama/llama-3.1-70b-instruct

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# AUTHENTICATION (OAuth - Optional)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# OAuth provider (currently supports Yandex for Russia)
AFFINE_OAUTH_OIDC_ISSUER=https://oauth.yandex.ru

# Get credentials from Yandex OAuth app registration
# OIDC_CLIENT_ID=your-client-id
# OIDC_CLIENT_SECRET=your-client-secret
# AFFINE_OAUTH_OIDC_ARGS_SCOPE=openid

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# FEATURE FLAGS & TELEMETRY
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Disable telemetry (privacy-first by default)
AFFINE_TELEMETRY_ENABLED=false

# Enable metrics collection (for monitoring)
AFFINE_METRICS_ENABLED=true

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# ADVANCED / DOCKER IMAGE OVERRIDES
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Override Docker image URLs (useful for custom registries)
# BACKEND_IMAGE=ghcr.io/leonid1095/plgames-board-backend:latest
# FRONTEND_IMAGE=ghcr.io/leonid1095/plgames-board-frontend:latest

# Alternative AI providers (choose one):
# AFFINE_COPILOT_OPENROUTER_MODEL=anthropic/claude-3-opus
# AFFINE_COPILOT_OPENROUTER_MODEL=openai/gpt-4-turbo
# AFFINE_COPILOT_OPENROUTER_MODEL=google/gemini-pro-1.5

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# NOTES
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# • The install.sh script auto-generates a .env file with secure defaults
# • All data is stored locally in Docker volumes
# • No cloud uploads or external dependencies (except optional OAuth/AI)
# • For production: always use a strong DB_PASSWORD (30+ characters)
# • After editing .env, restart services: docker compose restart
# Email Configuration (Optional)
# ===========================================
# MAILER_HOST=smtp.yandex.ru
# MAILER_PORT=465
# MAILER_USER=your-email@yandex.ru
# MAILER_PASSWORD=your-app-password
# MAILER_SENDER=noreply@your-domain.com

# ===========================================
# Storage Configuration
# ===========================================
# Local storage path inside container
AFFINE_STORAGE_PATH=/root/.affine/storage

# S3-compatible storage (Optional - for production)
# S3_ENDPOINT=storage.yandexcloud.net
# S3_BUCKET=plgames-storage
# S3_ACCESS_KEY_ID=your_access_key
# S3_SECRET_ACCESS_KEY=your_secret_key
# S3_REGION=ru-central1

# ===========================================
# Security Configuration
# ===========================================
# Session secret (generate with: openssl rand -hex 32)
# SESSION_SECRET=generate_random_32_char_hex_string

# JWT secret (generate with: openssl rand -hex 32)
# JWT_SECRET=generate_random_32_char_hex_string

# ===========================================
# Feature Flags
# ===========================================
# Enable/disable features
AFFINE_TELEMETRY_ENABLED=false
AFFINE_METRICS_ENABLED=true

# ===========================================
# Development Only (Remove in production)
# ===========================================
# DEBUG=affine:*
# FORCE_COLOR=true
